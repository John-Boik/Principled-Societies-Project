{% extends "layout.html" %}

{% block page_head %}

<script src="{{ url_for('static', filename='brython/src/brython.js') }}"></script>
<script type="text/python" src="{{ url_for('static', filename='python/layout.py') }}"></script>
<script src="{{ url_for('static', filename='javascript/jquery.knob.min.js') }}"></script>

{% endblock %}


{% block body %}

<!-- ========================== Initialize ============================================== -->

<script type="text/python">
from browser import window
results = {{ results|safe }}
window.results = results
</script>

<script type="text/python"
src="{{ url_for('static', filename='python/results.py') }}"></script>

<!--<script src="http://ariutta.github.io/svg-pan-zoom/dist/svg-pan-zoom.min.js"></script>-->
<script src="{{ url_for('static', filename='javascript/svg-pan-zoom.min.js')  }}"></script>

<script type="text/javascript" 
src="{{ url_for('static', filename='javascript/highcharts.js')  }}"></script>

<script type="text/javascript" 
src="{{ url_for('static', filename='javascript/exporting.js')  }}"></script>


<!-- ========================== Modal ============================================== -->

<!--<div id="modal_container">-->
  <!--<div id="modalContentContainer">-->
    <!--<span id="closeModal">x</span>-->
    <!--<span id="modalContent"></span>-->
  <!--</div>-->
<!--</div>-->

<div class="container-fluid" id="modal_container">
  <div id="modalContentContainer">
    <span id="closeModal">x</span>
    <span id="modalContent"></span>
  </div>
</div>

<!-- ========================== Group 0 ============================================== -->



<div class="container-fluid">
  <div class="row">
    <div class="col-xl-12 col-lg-12 col-med-12 col-sm-12 cols-xs-12 p-sect result-col">

      <h2 class="green-sect">Fitness Overview</h2>
      <p>The grand fitness is <output id="output_grand_fitness">...wait...</output></p>

      <p>The grand fitness is the count of tokens plus the count of dollars in error (the summed size of excess and deficient flows over all nodes). If the grand fitness is well above zero but less than, say, 
        <output id="threshold">...wait...</output> T&D (the population times 500 T&D), the results are 
        questionable. If the grand fitness is far above this threshold, then all results except 
        fitness are meaningless. A perfect fitness of zero and low scores near zero can be achived in many ways.</p>


        <div id="grand_fitness_table" ></div>

      <p>Some of the elements of tables and graphics on this page are color coded to visually highlight the differences in node fitness values. For these, a linear gradient is used between gray, signifying zero fitness (best), and red, sigifying the maximum of (1,000, maximum node fitness).</p> 


      <p>Figure 1. Compartments and flows in 20-node steady-state model. Dollar-only flows are in dotted green. Dollar and/or tokens flows are in solid blue.  Line weight signifies size of flow. Node color indicates fitness.</p>
        <div id='summary_graph_container'></div>


      <!-- ========================== Group 1 ============================================== -->
        <input type="button" id="more_1" value="More Fitness Overview (Group 1)">



        <div id="org_funding_table" ></div>
        <br>
          
        <div id="compartment_flow_summary_table" ></div>
        <br>

        <div id="params_table" ></div>
        <br>

        <div id="node_fitness_summary_table" ></div>
        
        
      <!-- ========================== Group 2 ============================================== -->

      <h2 style="clear:both;">Results: Starting Conditions and Targets</h2> 
      <p>The results in this section follow directly from the values chosen for starting conditions and targets.  </p>
      <input type="button" id="more_2" value="More Starting (Group 2)">

      <div id="income_dist"></div>
      <div id="graph_person_counts"></div>
      <div id="graph_pct_employed_workforce"></div>
      <div id="graph_pie_employed_member_workforce"></div>
      <div id="graph_mean_family_income"></div>
      <div id="group_2_summary_table" ></div>



      <!-- ========================== Group 3 ============================================== -->
      <h2 style="clear:both;">Results: Variables</h2>  
      <p>Given starting conditions and targets, the results in this section follow directly from the values chosen for variables.</p>

        <input type="button" id="more_3" value="More Variables (Group 3)">

        <h3 style="clear:both;">Summary tables</h3> 
        
        <div id="group_3b_node_table" ></div>



      <h2 style="clear:both;">Results: Detailed Tables</h2>

        <h3 style="clear:both;">Detailed graph</h3>

        <div id="detailed_graph_container" >
          <div id="graph_left"></div>
          <div id="graph_right"></div>  
        </div>


      <!-- ========================== Group 4 ============================================== -->



        <h3 style="clear:both;">Detailed node tables</h3>
       <input type="button" id="more_4" value="More Detailed (Group 4)"> 
        
        
        <div id="all_tables" style="clear:both;"></div>

  <!--end column-->
    </div>
  </div>

<script>
  $(document).ready(function() {
    brython(1);
  });
</script>


{% endblock %}



